# Release Notes

## v1.1.4 (2026-01-19) - Portfolio Reset Policy & Sparkline Enhancement
- **Portfolio Reset Improvement**: 포트폴리오 초기화 시 기존 종목만 삭제되는 것이 아니라, 모든 커스텀 계좌가 삭제되고 '기본 계좌'만 남는 완전 초기화 로직을 적용했습니다.
- **Sparkline Visualization**:
    - **Time-Scaled Width**: 오늘 장 운영 시간(09:00~15:30) 대비 진행률만큼만 그래프가 그려지며, 남은 시간은 점선으로 표시하여 직관성을 높였습니다.
    - **Detail View Enhancement**: 상세 화면의 스파크라인 너비를 1.5배 확대하여 추세 흐름을 더 명확하게 확인할 수 있습니다.
- **Dependency Update**: `aiohttp` 라이브러리 누락으로 인한 실행 오류를 수정했습니다.

## v1.1.3 (2026-01-18) - UI Layout & Typography Patch
- **Badge Style Fix (Wrapping)**: 종목명 옆의 '보유중', '타 계좌 보유' 배지가 줄바꿈 현상이 발생하던 문제를 해결했습니다. (Whitespace-NoWrap 적용)
- **Portfolio Footer Compact**: 포트폴리오 목록 하단의 요약 정보(종목 수 등)와 초기화 버튼, 개발자 크레딧 영역을 **한 줄로 통합**하여 불필요한 수직 공간 낭비를 제거했습니다.
- **Font Size Optimization**: 사용자 요청에 따라 주요 정보의 가독성을 위해 폰트 크기를 조정했습니다.
    - **주가 (Price)**: 11.5px -> 12px
    - **변동률 (Change)**: 8px -> 10px
    - **수익률 (Return)**: 11px -> 12px / 개별항목 10px -> 11px

## v1.1.2 (2026-01-18) - Data Integrity & Detail View Polish
- **Systemic Bug Fix: Price Change Data Mapping**: 
    - 상장지수펀드(ETF)의 '괴리율'을 가격 변동률로 오인하여 표시하던 시스템 결합 오류를 수정했습니다.
    - 이제 전일 대비 실제 등락률을 정확하게 수집하여 주가 변동 정보와 색상을 표시합니다.
- **New Feature: Detail View Sparkline**:
    - 종목 상세 화면에 **실시간 주가 추세(Sparkline)**를 추가했습니다.
    - 주가 잉크 및 변동률 바로 옆에서 오늘의 흐름을 직관적으로 확인할 수 있습니다.
- **UI Typography Refinement**:
    - 종목 리스트와 상세 화면의 **가독성 최적화**를 위해 폰트 사이즈를 미세 조정(최대 3px 축소)했습니다.
    - 변동률 기호(▲/▼)와 숫자의 수평 정렬을 맞추어 디자인의 균형을 개선했습니다.
- **Visual Consistency**: 주가 하락 시 스파크라인과 변동률 텍스트가 명확하게 파란색으로 표시되도록 일관성을 강화했습니다.

## v1.1.1 (2026-01-18) - Minor Update: Layout & Detail View Optimization
- **UI Improvement: Dynamic Panel Ratios**: 창 분할 비율을 사용성 중심으로 최적화했습니다.
    - **2프레임 모드 (종목명/포트폴리오)**: **1:1** 비중으로 자동 설정.
    - **3프레임 모드 (종목명/상세/포트폴리오)**: **1:1:2** 비중으로 상세 정보 열람 시에도 포트폴리오 창이 50%의 넓이를 유지하도록 개선했습니다.
- **Improved Resizing Logic**: 첫 번째 스플리터 조절 시 포트폴리오 영역의 크기에 영향을 주지 않고 종목명과 상세 정보 영역 간의 비중만 효율적으로 재배분합니다.
- **Detail View Optimization**: 
    - 가장 빈번하게 사용되는 **'보유수량 및 평단가 수정' 섹션을 상세 화면 최상단으로 이동**하여 스크롤 없이 즉시 수정이 가능하도록 개선했습니다.
- **Portfolio Table Refinement**:
    - **중앙 컬럼 균등 배분**: 현재가, 수량, 평단가 영역을 동일한 너비로 배치하여 시각적 안정성을 확보했습니다.
    - **공간 재배분**: 원금합계(Cost) 영역을 넓히고 평가금액 영역을 미세 조정하여 금액 단위가 커져도 가독성이 유지되도록 최적화했습니다.
- **Visual Polish**: 포트폴리오 헤더 폰트 크기를 1px 확대(12px)하고 색상을 밝게(`text-gray-100`) 조정하여 가용 영역의 시인성을 강화했습니다.


## v1.1.0 (2026-01-17) - Major Update: Refined UI & Tooltip System
- **New Feature: Refined Tooltip System**: 모든 주요 UI 요소(버튼, KPI 카드, 체크박스)에 정밀한 커스텀 주석(Tooltip) 시스템을 도입했습니다.
    - **가독성 강화**: 마우스 포인터 크기에 상관없이 가려지지 않도록 최적의 간격(50px)과 레이어 우선순위를 확보했습니다.
    - **상세 설명 제공**: 단순한 명칭이 아닌, 각 기능의 전문적인 상세 설명(멀티라인 지원)을 제공하여 사용자의 이해도를 높였습니다.
    - **완벽한 안정성**: 자바스크립트 상태 변화에 관계없이 정보가 사라지지 않도록 구조적 안정성을 확보했습니다.
- **UI Stability Improvement**: 데이터 업데이트 시 버튼 크기가 흔들리거나 작아지는 현상을 완벽히 해결하여 레이아웃의 고정성을 확보했습니다.
- **Visual Polish**: 주석 박스의 배경 투명도를 제거하고 경계선을 강화하여 정보의 시인성을 극대화했습니다.

## v1.0.7 (2026-01-17)
- **UI Improvement**: Removed the unintentionally displayed version number from the "Annual Yield" section in the stock detail view.
- **UI Improvement**: Reordered the KPI header. Moved "My Investment Return" next to "My Investment Principal".
- **Clarity**: Renamed the "My Investment Return (Avg Price Basis)" label to "My Investment Return (Valuation Gain/Loss)" for clearer standard terminology.
- **Clarity**: Renamed the "Portfolio Total Return (1Y, TR)" label to "1 Year Holding Simulation (TR)" to clarify it is a backtest based on current holdings.
 - v1.0.6 Stable

**Release Date**: 2026-01-13
**Version**: v1.0.6
**Developer**: SHIN YONG HUI

## 주요 변경 사항

### 1. 포트폴리오 가시성 및 사용성 개선 (Accordion View)
- **아코디언 스타일 적용**: 여러 계좌를 보유한 경우, 현재 선택된(Active) 계좌의 종목 목록만 펼쳐서 보여주도록 변경하였습니다.
    - 선택되지 않은 다른 계좌들은 헤더(요약 정보)만 간략히 표시됩니다.
    - 비활성 계좌의 헤더를 클릭하면 해당 계좌가 펼쳐지며 활성화됩니다.
- 이를 통해 포트폴리오 목록이 너무 길어지는 문제를 해결하고, 현재 집중해야 할 계좌 정보에 더 집중할 수 있게 되었습니다.

### 2. 정렬 기능 강화
- **다양한 정렬 옵션 지원**: 종목명, 현재가, 수량, 평단가, 수익률, 평가금액 등 각 컬럼 헤더를 클릭하여 정렬할 수 있습니다.
- **기본 정렬(LIFO)**: 계좌 내 종목들은 기본적으로 **최근 추가한 순서(LIFO)**로 정렬됩니다.

---

# Release Notes - v1.0.5 Stable

**Release Date**: 2026-01-11
**Version**: v1.0.5
**Developer**: SHIN YONG HUI

## 주요 변경 사항

### 1. 포트폴리오 가져오기 (Import) 동작 변경
- **덮어쓰기 로직 적용**: 기존 포트폴리오 파일(.csv, .json)을 불러올 때, 현재 데이터를 유지하지 않고 **불러온 파일의 내용으로 완전히 교체(Overwrite)**하도록 변경했습니다. 이전 데이터와 섞이는 혼란을 방지합니다.

### 2. UI 및 레이아웃 개선
- **헤더 레이아웃 재구성**: 상단 '제목 그룹'과 '컨트롤 그룹(버튼+KPI)'을 명확히 분리하여, 화면 크기가 줄어들 때 컨트롤 그룹 전체가 `Update` 버튼 왼쪽에서 깔끔하게 줄바꿈되도록 개선했습니다.
- **KPI 가독성 향상**:
    - **폰트 크기 최적화**: 라벨 크기를 소폭 축소(12px -> 11.5px)하고, 중요 정보인 금액 및 수익률 숫자를 확대(19px/20px)하여 가시성을 높였습니다.
    - **높이 통일**: 액션 버튼 그룹과 KPI 디스플레이 그룹의 높이를 동일하게 맞추어 시각적 균형을 맞췄습니다.
- **투자 원금 표시 (Investment Principal)**: 상단 KPI 바에 '내 투자 원금' 정보를 추가하여 총 평가금액과 비교할 수 있도록 했습니다.
- **KPI 명칭 변경**: '내 실현 수익률'을 '내 투자 수익률'로 명칭을 변경했습니다.
- **업데이트 버튼 안정화**: 데이터 업데이트 진행 시 버튼 텍스트 변경으로 인해 레이아웃이 흔들리는 현상을 수정하여 버튼 크기를 고정했습니다.

---

# Release Notes - v1.0.4 Stable

**Release Date**: 2026-01-10
**Version**: v1.0.4
**Developer**: SHIN YONG HUI

## 주요 변경 사항

### 1. 시스템 안정성 및 기능기 복구
- **시스템 트레이 아이콘 복구**: 1.0.3 버전에서 제공되던 시스템 트레이(작업 표시줄 아이콘) 기능이 정상적으로 동작하도록 수정했습니다.
- **버전 표기 수정**: UI 및 시스템 내부 버전 정보가 v1.0.4로 올바르게 표시되도록 업데이트했습니다.
- **싱글 인스턴스(중복 실행 방지) 적용**: 프로그램이 이미 실행 중일 경우 이를 감지하고 경고 메시지를 표시하며 중복 실행을 방지하는 기능을 추가했습니다.

### 2. 로직 및 UI 개선 (정확성 강화)
- **포트폴리오 수익률 계산 로직(KPI) 수정**: 기존의 단순 가중평균 방식에서 전체 자산 가치 기반의 엄밀한 계산 로직으로 변경하여 수학적 정확성을 높였습니다.
- **트렌드 차트 불일치 해결**: 차트의 '1년 수익률'이 상세 정보(Total Return)와 달랐던 문제를 해결했습니다.
    - 이제 차트는 '1년 전 가장 인접한 거래일'부터 '오늘의 실시간 현재가'까지를 기준으로 계산하여, 상세 목록의 **Price Return**과 100% 일치합니다.
- **내 평단가 시각화 (My Average Cost)**: 트렌드 차트에 **내 평단가(매수 총액)**를 나타내는 점선 그래프를 추가했습니다.
    - 이제 내 자산 가치 곡선이 평단가 선 위에 있는지(수익) 아래에 있는지(손실) 직관적으로 비교할 수 있습니다.
- **비활성 계좌 가독성 향상**: 선택되지 않은 계좌 헤더의 배경색을 너무 어둡지 않은 짙은 회색으로 변경하여 가독성을 높였습니다.
- **시각적 피드백 강화**: 포트폴리오에 종목 추가 시 해당 행이 잠시 반짝이는(Blue Flash) 효과를 추가하여 추가 성공 여부를 직관적으로 확인할 수 있습니다.
- **입력 유도 디자인 (UX)**: 평단가(Avg Price)가 입력되지 않은 경우, 입력창 테두리를 주황색으로 강조하여 필수 정보 입력을 유도합니다.
- **수익률 명칭 개선**: '포트폴리오 총수익률(1Y)'을 **'포트폴리오 총수익률(1Y, TR)'**로, '내 포트폴리오 수익률'을 **'내 실현 수익률 (평단기준)'**으로 변경하여 의미를 명확히 했습니다.

### 3. 데이터 신뢰성 강화 (Hotfix)
- **가격 정보 정확성 개선**: 특정 종목(예: TIGER 배당커버드콜액티브, 472150)의 현재 가격이 KRX 데이터 지연으로 인해 과거 가격으로 표시되던 문제를 수정했습니다.
    - KRX 데이터 수집 실패 시 **네이버 금융(Naver Finance)**의 실시간 가격 정보를 자동으로 가져오도록 이중화(Fallback) 로직을 적용했습니다.

---

# Release Notes - v1.0.3 Stable

**Release Date**: 2026-01-03
**Version**: v1.0.3
**Developer**: SHIN YONG HUI

## 주요 변경 사항

### 1. CSV 내보내기/불러오기 기능 강화 (Export/Import)
- **한글 호환성 완벽 지원**: Excel CSV 내보내기 시 발생하던 한글 깨짐 현상을 해결했습니다 (`utf-8-sig` 적용).
- **다중 계좌 불러오기 지원**: CSV 파일에 `Account` 열이 포함되어 있을 경우, 해당 계좌별로 분류하여 자동으로 불러옵니다.
- **자동 저장 기능**: 파일 불러오기 성공 시, 해당 파일명으로 "Saved Portfolios"에 자동 백업됩니다.
- **실시간 갱신**: 불러오기 완료 즉시 화면에 반영되도록 개선했습니다.

### 2. 계좌 관리 개선
- **한글 계좌명 제한 해제**: 계좌 생성 및 이름 변경 시 한글 사용이 가능하도록 제한을 해제했습니다.

---

# Release Notes - v1.0.2 Stable

**Release Date**: 2026-01-03
**Version**: v1.0.2
**Developer**: SHIN YONG HUI

## 주요 변경 사항

### 1. UI 디자인 표준화 및 개선
- **포트폴리오 토글 스타일 통일**: "전체/현재계좌" 및 "List/Trend" 전환 버튼의 크기와 색상(활성화 시 파란색)을 통일하여 일관성을 높였습니다.
- **헤더 레이아웃 개선**: 의미 없는 수직 파티션 선을 제거하고, 버튼 그룹과 주요 지표(KPI) 간의 간격을 넓혀 더욱 깔끔하고 현대적인 디자인을 적용했습니다.

### 2. 버그 수정 및 안정성 강화
- **종목 선택 시 화면 꺼짐(Blank) 현상 수정**: 상세 화면 진입 시 특정 변수(`isInPf`) 참조 오류로 인해 목록이 사라지던 문제를 해결했습니다.
- **레이아웃 초기화 오류 수정**: 레이아웃 크기 조절 변수가 누락되어 발생하던 화면 깨짐 문제를 해결하고 안정적인 3단 분할(목록/상세/포트폴리오) 화면을 복구했습니다.
- **Trend 차트 갱신 지연 해결**: 뷰 모드 전환 시 차트가 즉시 갱신되지 않던 문제를 해결하여 반응속도를 개선했습니다.

---

# Release Notes - v1.0.1 Stable

**Release Date**: 2026-01-02
**Version**: v1.0.1
**Developer**: SHIN YONG HUI

## 주요 변경 사항

### 1. 브랜드 및 명칭 변경
- 프로그램 공식 명칭이 **"# KR ETF Dividend Insight 사용자 매뉴얼 (v1.1.0)"**로 변경되었습니다.
- 앱 아이콘(임시) 및 버전 정보(v1.0.1)가 UI 전반에 적용되었습니다.

### 2. 사용자 정보 및 About 대화상자 추가
- 제작자 정보(**SHIN YONG HUI**)가 추가되었습니다.
- 대시보드 상단 ⓘ 아이콘을 통해 상세 정보를 확인할 수 있는 **About** 창을 구현했습니다.
- 라이선스 정보 및 투자 주의사항 안내가 포함되었습니다.

### 3. 시스템 트레이 제어 및 백그라운드 관리
- 프로그램 실행 시 작업 표시줄 우측 **시스템 트레이**에 아이콘이 나타납니다.
- 브라우저를 닫아도 트레이 메뉴를 통해 대시보드를 다시 열거나 프로그램을 완전히 종료할 수 있습니다.
- About 창 내에 **[Exit]** 버튼을 추가하여 서버를 안전하게 종료할 수 있습니다.

### 4. 시각적 가독성 개선
- 하단 제작자 정보 및 헤더 버전 표시의 폰트 크기를 키우고 명암비를 높여 시인성을 개선했습니다.
- 다크 모드 테마에 최적화된 색상을 적용했습니다.

### 5. 사용자 매뉴얼 제공
- 프로그램 사용법 및 기능 설명을 담은 **`Manual.md`**가 배포 패키지에 포함되었습니다.
- About 창에서 직접 매뉴얼을 열어볼 수 있는 기능을 추가했습니다.

## 버그 수정
- 프로그램 종료 시 프로세스가 남는 현상을 해결하기 위해 셧다운 API를 보완했습니다.
- `time` 라이브러리 참조 누락으로 인한 종료 버튼 오작동 문제를 해결했습니다.

---
© 2026 SHIN YONG HUI. All rights reserved.
